# coding: utf-8
import sys
import base64

import cv2
import numpy as np
from keras import models

from ocr import pretreatment
from ocr.mlearn_for_image import preprocess_input
import random
import math
from py12306.config import Config
import threading
from  keras.backend.tensorflow_backend import _SYMBOLIC_SCOPE
def get_text(img, offset=0):
    text = pretreatment.get_text(img, offset)
    text = cv2.cvtColor(text, cv2.COLOR_BGR2GRAY)
    text = text / 255.0
    h, w = text.shape
    text.shape = (1, h, w, 1)
    return text

def ocr(base64_data):
    # 读取并预处理验证码
    #设置当前线程
    _SYMBOLIC_SCOPE.value=True
    imgData = base64.b64decode(base64_data)
    nparr = np.fromstring(imgData, np.uint8)
    img = cv2.imdecode(nparr, cv2.IMREAD_COLOR)
    #img = cv2.imread(fn)
    #获取文字
    text = get_text(img)

    imgs = np.array(list(pretreatment._get_imgs(img)))
    imgs = preprocess_input(imgs)

    # 模型数据
    model = models.load_model(Config.PROJECT_DIR+'model_data/model.h5')
    #用模型判断这个文字
    label = model.predict(text)
    #获取相似度最大的
    label = label.argmax()
    #获取所有text
    fp = open(Config.PROJECT_DIR+'model_data/texts.txt', encoding='utf-8')
    texts = [text.rstrip('\n') for text in fp]
    #使用相似度最大的
    text = texts[label]
    keyWord=[]
    keyWord.append(text)
    print(keyWord)

    # 获取下一个词
    # 根据第一个词的长度来定位第二个词的位置
    if len(text) == 1:
        offset = 27
    elif len(text) == 2:
        offset = 47
    else:
        offset = 60
    #类似的，获取第二个词
    text = get_text(img, offset=offset)
    if text.mean() < 0.95:
        label = model.predict(text)
        label = label.argmax()
        text = texts[label]
        keyWord.append(text)
        print(keyWord)

    # 加载图片分类器
    model = models.load_model(Config.PROJECT_DIR+'model_data/_12306.image.model.h5')
    labels = model.predict(imgs)
    labels = labels.argmax(axis=1)
    # for pos, label in enumerate(labels):
    #     print(pos // 4, pos % 4, texts[label])
    result=[]
    for pos, label in enumerate(labels):
        print(texts[label])
        if texts[label] in keyWord:
            result.append(pos)
            #print(pos // 4, pos % 4, texts[label])
    print (result)
    return get_image_position_by_offset(result)
#32,36, 110,44, 197,44, 258,40, 39,112, 114,113, 185,110, 264,112
#30,30, 110,30, 190,30, 270,30, x加80,统一40
# 30,110, 110,110, 190,110, 270,110  x加80 ，y统一120
def get_image_position_by_offset(offsets):
    positions = []
    interval=80
    rowOneY=40
    rowTwoY=120
    start=40
    width = 75
    height = 75
    for offset in offsets:
        # 生成偏移量，防止被认为爬虫
        random_x = random.randint(-5, 5)
        random_y = random.randint(-5, 5)
        if offset < 4:
            offset = int(offset)
            x=start+offset*interval+random_x
            y=rowOneY+random_y
        else:
            offset = int(offset-4)
            x=start+offset*interval+random_x
            y=rowTwoY+random_y
        positions.append(int(x))
        positions.append(int(y))
    return positions

    return positions
if __name__ == '__main__':
    strr="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"
    result=ocr(strr)
    print(result)
